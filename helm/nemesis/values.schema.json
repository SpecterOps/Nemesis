{
  "type": "object",
  "$schema": "http://json-schema.org/draft-07/schema",
  "required": [],
  "properties": {
    "operation": {
      "type": "object",
      "required": [
        "slackWebhook",
        "slackChannel",
        "nemesisHttpServer"
      ],
      "properties": {
        "disableSlackAlerting": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "true"
        },
        "slackWebhook": {
          "type": "string",
          "pattern": "^https://hooks\\.slack\\.com/services/.*",
          "default": "\"https://hooks.slack.com/services/some/random/text\""
        },
        "slackChannel": {
          "type": "string",
          "pattern": "^#.*",
          "default": "\"#testing\""
        },
        "logLevel": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"INFO\""
        },
        "assessmentId": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"ASSESS-0\""
        },
        "nemesisHttpServer": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "description": "Can't be localhost because of URL validation in passwordcracker container",
          "default": "\"http://127.0.0.1:80/\""
        },
        "environment": {
          "type": "string",
          "default": "production",
          "enum": ["production", "development", "test"]
        },
        "dataExpirationDays": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"100\""
        },
        "basicAuthUser": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"nemesis\""
        },
        "basicAuthPassword": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "description": "Default password for basic auth"
        }
      }
    },
    "storage": {
      "type": [
        "string",
        "boolean",
        "number",
        "object",
        "array"
      ],
      "default": "minio"
    },
    "aws": {
      "type": "object",
      "required": [],
      "properties": {
        "bucket": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"not-applicable\""
        },
        "region": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"not-applicable\""
        },
        "kmsKeyAlias": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"not-applicable\""
        },
        "accessKeyId": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"not-applicable\""
        },
        "secretKey": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"not-applicable\""
        }
      }
    },
    "minio": {
      "type": "object",
      "required": [],
      "properties": {
        "rootUser": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"nemesis\""
        },
        "rootPassword": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        },
        "auth": {
          "type": "object",
          "required": [],
          "properties": {
            "existingSecret": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "minio-creds"
            }
          }
        },
        "persistence": {
          "type": "object",
          "required": [],
          "properties": {
            "size": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "\"30Gi\""
            }
          }
        },
        "extraEnvVars": {
          "type": "array",
          "required": [],
          "properties": {
            "name": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "MINIO_BROWSER_LOGIN_ANIMATION"
            },
            "value": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "\"\\\"off\\\"\""
            }
          }
        }
      }
    },
    "ingress-nginx": {
      "type": "object",
      "required": [],
      "properties": {
        "prometheus": {
          "type": "object",
          "required": [],
          "properties": {
            "create": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "True"
            },
            "port": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "9113"
            }
          }
        },
        "tcp": {
          "type": "object",
          "required": [],
          "properties": {
            "5044": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "\"default/nemesis-ls-beats:5044\""
            }
          }
        },
        "controller": {
          "type": "object",
          "required": [],
          "properties": {
            "admissionWebhooks": {
              "type": "object",
              "required": [],
              "properties": {
                "enabled": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "false"
                }
              }
            }
          }
        }
      }
    },
    "gotenberg": {
      "type": "object",
      "required": [],
      "properties": {
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "gotenberg/gotenberg"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "\"7.8.0\""
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        },
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31300"
        },
        "resources": {
          "type": "object",
          "required": [
            "requests"
          ],
          "properties": {
            "requests": {
              "type": "object",
              "description": "requests as specified in https://gotenberg.dev/docs/get-started/kubernetes",
              "required": [],
              "properties": {
                "memory": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"512Mi\""
                },
                "cpu": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"200m\""
                }
              }
            },
            "limits": {
              "type": "object",
              "required": [],
              "properties": {
                "memory": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"1Gi\""
                },
                "cpu": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"500m\""
                }
              }
            }
          }
        }
      }
    },
    "grafana": {
      "type": "object",
      "required": [],
      "properties": {
        "user": {
          "type": [ "string" ],
          "default": "\"nemesis\""
        },
        "password": {
          "type": [ "string" ]
        }
      }
    },
    "elasticsearch": {
      "type": "object",
      "required": [],
      "properties": {
        "user": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"nemesis\""
        },
        "password": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        },
        "resources": {
          "type": "object",
          "required": [],
          "properties": {
            "requests": {
              "type": "object",
              "required": [],
              "properties": {
                "cpu": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"500m\""
                },
                "memory": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"1G\""
                }
              }
            },
            "limits": {
              "type": "object",
              "required": [],
              "properties": {
                "cpu": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"1000m\""
                },
                "memory": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "\"2G\""
                }
              }
            }
          }
        }
      }
    },
    "pgAdmin": {
      "type": "object",
      "required": [],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31288"
        }
      }
    },
    "postgres": {
      "type": "object",
      "required": [],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31209"
        },
        "user": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"nemesis\""
        },
        "password": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        },
        "pgadminEmail": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"nemesis@nemesis.com\""
        },
        "pgadminPassword": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        }
      }
    },
    "dashboard": {
      "type": "object",
      "required": [
        "resources"
      ],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "30073"
        },
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "specterops/nemesis-dashboard"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "latest"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        },
        "username": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"nemesis\""
        },
        "resources": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "description": "password: \"\""
        }
      }
    },
    "nemesisWaiter": {
      "type": "object",
      "required": [],
      "properties": {
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "specterops/nemesis-waiter"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "latest"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        }
      }
    },
    "rabbitmq": {
      "type": "object",
      "required": [],
      "properties": {
        "adminUser": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"nemesis\""
        },
        "adminPassword": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"password\""
        },
        "connectionUri": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"amqp://nemesis:password@nemesis-rabbitmq-svc:5672/\""
        },
        "erlangCookie": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "\"default-cookie\""
        },
        "resources": {
          "type": "object",
          "required": [],
          "properties": {
            "requests": {
              "type": "object",
              "required": [],
              "properties": {
                "cpu": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "100m"
                },
                "memory": {
                  "type": [
                    "string",
                    "boolean",
                    "number",
                    "object",
                    "array"
                  ],
                  "default": "100Mi"
                }
              }
            }
          }
        }
      }
    },
    "eck-operator": {
      "type": "object",
      "required": [],
      "properties": {
        "installCRDs": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "true"
        }
      }
    },
    "dotnet": {
      "type": "object",
      "required": [],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31800"
        },
        "resources": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        },
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "specterops/nemesis-dotnet"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "latest"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        }
      }
    },
    "enrichment": {
      "type": "object",
      "required": [],
      "properties": {
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "specterops/nemesis-enrichment"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "latest"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        },
        "cracklist": {
          "type": "object",
          "required": [],
          "properties": {
            "nodePort": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "30089"
            }
          }
        },
        "yara": {
          "type": "object",
          "required": [],
          "properties": {
            "nodePort": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "30079"
            }
          }
        },
        "webapi": {
          "type": "object",
          "required": [],
          "properties": {
            "nodePort": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "30808"
            }
          }
        },
        "landingpage": {
          "type": "object",
          "required": [],
          "properties": {
            "nodePort": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "30809"
            }
          }
        },
        "monitoring": {
          "type": "object",
          "required": [],
          "properties": {
            "nodePort": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "31693"
            }
          }
        }
      }
    },
    "jupyter": {
      "type": "object",
      "required": [],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31888"
        },
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "specterops/nemesis-jupyter"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "latest"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        }
      }
    },
    "nlp": {
      "type": "object",
      "required": [],
      "properties": {
        "prometheusNodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31692"
        },
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31803"
        },
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "specterops/nemesis-nlp"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "latest"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        },
        "resources": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        }
      }
    },
    "passwordcracker": {
      "type": "object",
      "required": [],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31990"
        },
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "specterops/nemesis-passwordcracker"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "latest"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            },
            "resources": {
              "type": "object",
              "required": [],
              "properties": {
                "requests": {
                  "type": "object",
                  "required": [],
                  "properties": {
                    "cpu": {
                      "type": [
                        "string",
                        "boolean",
                        "number",
                        "object",
                        "array"
                      ],
                      "default": "\"100m\""
                    }
                  }
                },
                "limits": {
                  "type": "object",
                  "required": [],
                  "properties": {
                    "cpu": {
                      "type": [
                        "string",
                        "boolean",
                        "number",
                        "object",
                        "array"
                      ],
                      "default": "\"2000m\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "tika": {
      "type": "object",
      "required": [],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31998"
        },
        "resources": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        }
      }
    },
    "hasura": {
      "type": "object",
      "required": [],
      "properties": {
        "nodePort": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ],
          "default": "31887"
        },
        "resources": {
          "type": [
            "string",
            "boolean",
            "number",
            "object",
            "array"
          ]
        },
        "image": {
          "type": "object",
          "required": [],
          "properties": {
            "repository": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "hasura/graphql-engine"
            },
            "tag": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "v2.36.2.cli-migrations-v2"
            },
            "pullPolicy": {
              "type": [
                "string",
                "boolean",
                "number",
                "object",
                "array"
              ],
              "default": "IfNotPresent"
            }
          }
        }
      }
    }
  }
}